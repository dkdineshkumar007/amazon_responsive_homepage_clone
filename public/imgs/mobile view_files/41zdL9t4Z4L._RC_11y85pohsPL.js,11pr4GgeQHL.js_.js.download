(function(e){var f=window.AmazonUIPageJS||window.P,v=f._namespace||f.attributeErrors,n=v?v("AmazonFamilyMobileGatewayAssets",""):f;n.guardFatal?n.guardFatal(e)(n,window):n.execute(function(){e(n,window)})})(function(e,f,v){e.when("A","a-carousel-constants","a-carousel-utils","a-carousel-circular-utils","a-carousel-transition-slidecircular","hero-slide-metrics").register("a-carousel-transition-fadeinfadeout",function(a,c,d,b,g,h){function k(b,c){return b.dom.$carousel.children("li").eq(m(b,c)-1)}function m(a,
g){g=g||1;var h=a.getAttr("transitionSlideCircularFirstCardIndex");a=a.getAttr(c.SET_SIZE);return b.relativeIndexFromIndex(g,h,a)}function f(b,a){var g=Math.floor(b.getAttr(c.PEEK_WIDTH)||0);return b.getItemOffset(a)-g}var e,p,u=!1,w=a.capabilities.rtl?-1:1,q=a.copy(g);q.afterInit=function(b){h.updateCellMetrics()};q.gotoNextPage=a.constants.NOOP;q.gotoPrevPage=a.constants.NOOP;q.gotoPage=function(b,a,g){g=g||{animationDuration:1E3};var h=b.getAttr(c.TOTAL_PAGES);0<a&&a<=h&&(u||(h=b.getAttr(c.PAGE_NUMBER),
p=b.getAttr(c.PAGE_SIZE)*(h-1)+1,e=b.getAttr(c.PAGE_SIZE)*(a-1)+1),u=!1,b.setAttr(c.PAGE_NUMBER,a),this.gotoIndex(b,b.getAttr(c.PAGE_SIZE)*(a-1)+1,g))};q.gotoIndex=function(a,g,h){var k=a.getAttr(c.SET_SIZE),d=m(a,a.getAttr(c.FIRST_VISIBLE_ITEM)),e=m(a,g);if(d===e)this.gotoPixel(a,f(a,d),h);else{if(1<a.getAttr(c.SET_SIZE)){d===e?d=e=0:d>e?(e=d-e,d=k-e):(d=e-d,e=k-d);k=d<=e?1:-1;d=Math.min(d,e);h.startover&&(5<d?h.animationDuration=1250:(delete h.animationDuration,h.animationSpeed=5*a.getDimensions().viewport.width));
var e=a.getAttr(c.TRANSITION_SLIDE_CIRCULAR_FIRST_CARD_IDX)||1,l=a.getAttr(c.SET_SIZE),p=a.dom.$carousel.children("li"),u=a.dom.$carousel;1===k?(b.rotateCW(u,p,d),e=b.firstCardIndexAfterRotate(d,e,l)):(b.rotateCCW(a.dom.$carousel,a.dom.$carousel.children("li"),d),e=b.firstCardIndexAfterRotate(-1*d,e,l));a.setAttr(c.TRANSITION_SLIDE_CIRCULAR_FIRST_CARD_IDX,e);d=d||1;k=k||1;e=a.getDimensions().items;e=1===k?b.rotateArrayCW(e,d):b.rotateArrayCCW(e,d);a.updateDimensionsCache({items:e})}this.gotoPixel(a,
f(a,g),h);a.setAttr(c.FIRST_VISIBLE_ITEM,g)}};q.gotoPixel=function(b,g,d){if(e!=p&&a.isFiniteNumber(e)){var h=k(b,e);h.css("display","none");b.setAttr(c.ANIMATING,!0);a.fadeIn(h,d.animationDuration,"linear",function(){d.callback&&d.callback();b.setAttr(c.ANIMATING,a.isAnimated(h))})}};q.onSwipe=function(b,a){a=0>w*a.touchDeltaX?"right":"left";var g=b.getAttr(c.PAGE_NUMBER);p=b.getAttr(c.PAGE_SIZE)*(g-1)+1;g="right"===a?g===b.getAttr(c.TOTAL_PAGES)?1:g+1:1===g?b.getAttr(c.TOTAL_PAGES):g-1;u=!0;e=b.getAttr(c.PAGE_SIZE)*
(g-1)+1;b.setAttr(c.PAGE_NUMBER,g)};q.onPan=function(b,a){if(a.ended)q.onSwipe(b,a)};return q});e.when("A","a-carousel-framework","a-carousel-transition-fadeinfadeout").execute("register-fadeinfadeout-transition-strategy",function(a,c,d){c.registerStrategy("transition","fadeinfadeout",d)});"use strict";e.when("A","jQuery","ready").register("hero-slide-metrics",function(a,c){return{updateCellMetrics:function(){var a=c("#mobile-hero-order"),b=a&&a.attr("cel_widget_id"),g=1;a.find(".gw-ftGr-desktop-hero").each(function(){var a=
c(this);if(!(new RegExp(b+".*")).exec(a.attr("cel_widget_id"))){var d=b+"-"+("0"+g).slice(-2);a.attr("cel_widget_id",d);a.attr("data-cel-widget",d);a.attr("data-csa-c-slot-id",d);a.attr("data-csa-c-type")||a.attr("data-csa-c-type","widget");a.attr("data-csa-c-id")||csa("Content",{element:a[0]})}g++})}}});e.declare("gwm-js-assets-loaded",{});e.when("increment-counter").execute(function(a){e.when("gwm-web-asset-loaded").execute(function(){a("gwm-web-asset-loaded")});e.when("gwm-app-asset-loaded").execute(function(){a("gwm-app-asset-loaded")});
e.when("gwm-history-asset-loaded").execute(function(){a("gwm-history-asset-loaded")});e.when("mash").execute(function(){a("gwm-mash-loaded")})});"use strict";e.when("jQuery").register("gwm-jq",function(a){a.fn.apply||(a.fn.apply=function(a){return a.apply(this,[this])});return a});"use strict";e.register("bind",function(a,c){null==Function.prototype.bind&&(Function.prototype.bind=function(a){var b=function(){},c=this;if(!function(a){if("function"!==typeof a)return!1;a=Object.prototype.toString.call(a);
return"[object Function]"===a||"[object GeneratorFunction]"===a}(c))throw new TypeError("Function.prototype.bind called on incompatible "+c);for(var h=[].slice.call(arguments,1),k,m=0>c.length-h.length?0:c.length-h.length,e=[],f=0;f<m;f++)[].push.call(e,"$"+f);k=(new Function("binder","return function ("+e.join(",")+"){ return binder.apply(this, arguments); }"))(function(){if(this instanceof k){var b=c.apply(this,[].concat.call(h,[].slice.call(arguments)));return Object(b)===b?b:this}return c.apply(a,
[].concat.call(h,[].slice.call(arguments)))});c.prototype&&(b.prototype=c.prototype,k.prototype=new b,b.prototype=null);return k});return function(a,b){return Function.prototype.bind.apply(a,Array.prototype.slice.call(arguments,1))}});"use strict";e.when("gwm-jq").register("ajax",function(a){return function(c){var d=a.Deferred(),b,g;c=a.extend({timeout:1E4,retries:0,success:d.resolve},c);b=c.error;g=c.retries;c.error=function(){0<=--g?a.ajax(c):(b&&b.apply(this,Array.prototype.slice.call(arguments)),
d.reject.apply(this,Array.prototype.slice.call(arguments)))};a.ajax(c);return d}});"use strict";e.when("jQuery").register("gwAjax",function(a){return function(c,d){function b(a,b,h){"object"===typeof f.ue&&"function"===typeof f.ue.count&&(g(d.errorCounter||"gwAjaxError"),d.id&&g("gwAjaxError:"+d.id));"function"===typeof f.ueLogError&&f.ueLogError({logLevel:"WARN",attribution:"gwAjax-"+(d.id||c),message:"gwAjax call failed "+(JSON&&JSON.stringify?JSON.stringify({url:c,"params-data":d.params||d.data}):
"")});"function"===typeof k&&k(a,b,h)}function g(a){"object"===typeof f.ue&&"function"===typeof f.ue.count&&f.ue.count(a,(f.ue.count(a)||0)+1)}d=a.extend(!0,{},d);var h=d.success,k=d.error;d.success=function(a,c,g){a.error?b(a,c,g):"function"===typeof h&&h(a,c,g)};d.error=b;d.data=d.params?d.params:d.data;g("gwAjaxCall");d.ajaxCounter&&g(d.ajaxCounter);return a.ajax(c,d)}});"use strict";e.when("gwm-jq","A","bind","ajax","gwm-card-loader-config","csm-widget-builder","card-inserter","loading-indicator",
"ready").register("card-loader",function(a,c,d,b,g,h,k,e){function r(){f.ue&&"function"===typeof f.ue.count&&(x=function(){f.ue.count("gwmCardAjaxFailure",(f.ue.count("gwmCardAjaxFailure")||0)+1)})}function l(){var a=c.state("gwm-card-loader");return(c.state("gwm-card-inserter").bottom-(t.scrollTop()+a.viewportHeight))/a.viewportHeight}function p(){c.state("gwm-card-loader",{screensTillBottom:l()})}function u(){c.state("gwm-card-loader",{viewportHeight:t.height()})}function w(){var b=c.state("gwm-card-loader").cards.slice(0),
d=b.splice(0,Math.ceil(3*(c.state("gwm-card-loader").viewportHeight/380))),r={requestId:f.ue&&f.ue.rid||g.requestId,cards:d,stream:g.stream,useSha256:g.useSha256},l=g.ajaxUrl;if(0!==d.length){var l=l.match(/\?/)?l+"\x26":l+"?",l=l+("rshVal\x3d"+Date.now()),t=h.build("card-load");t.bb();e.show();d=c.post(l,{contentType:"application/json",paramsFormat:"json",params:r,chunk:function(a){t.cf();if(a=a[1])k(a.body),a.ok||x();t.ld()},success:function(a,b,c){q()},error:function(a,b,c){q()}});d.done=function(a){a()};
c.state.replace("gwm-card-loader",a.extend(c.state("gwm-card-loader"),{request:d,cards:b}))}}function q(){e.hide();c.state("gwm-card-loader",{request:null})}function n(a,b){b.viewportHeight&&c.state("gwm-card-loader",{screensTillBottom:l()});!a.request&&3>a.screensTillBottom&&!(c.state("gwm-secondary")||{}).open&&w();b.request&&!a.request&&0===a.cards.length&&e.hide();b.noCardsLoaded&&a.noCardsLoaded&&e.hide();b.enableCSM&&a.enableCSM&&r()}function v(a,b){b.bottom&&c.state("gwm-card-loader",{screensTillBottom:l()})}
var t=a(f),x=a.noop;return function(a){var b=a.cardsData;k(a.html);c.state.bind("gwm-card-loader",n);c.state.bind("gwm-card-inserter",v);c.state("gwm-card-loader",{viewportHeight:t.height(),cards:b.slice(0),enableCSM:!0,noCardsLoaded:0===b.length});t.bind("scroll",c.debounce(p,50));t.bind("resize",c.debounce(u,250))}});"use strict";e.when("jQuery","A","card-insertion-marker","insertHTMLBefore","ready").register("card-inserter",function(a,c,d,b){c.state("gwm-card-inserter",{bottom:d().offset().top,
inserted:[]});return function(a){var h=a.replace(/^\s+/,"").replace(/\s+$/,""),k=d(),k=k&&k.get(0);""!==h&&k&&(b(a,k),c.state("gwm-card-inserter",{bottom:d().offset().top,inserted:c.state("gwm-card-inserter").inserted.concat([a])}))}});"use strict";e.when("gwm-jq","A","gwm-card-loader-config","increment-counter","widget-counter","ready").register("tile-loader",function(a,c,d,b,g){return function(h){if(0!==h.length){h={requestId:f.ue&&f.ue.rid||d.requestId,cards:h,useSha256:"1"};var k=d.ajaxUrl,k=
k.match(/\?/)?k+"\x26":k+"?",k=k+("rshVal\x3d"+Date.now());a("#gwm-TileLoadingIndicator").removeClass("aok-hidden");b("tile-loader-invocation");c.post(k,{contentType:"application/json",paramsFormat:"json",params:h,chunk:function(b){if((b=b[1])&&b.ok&&b.body){var c=a('\x3cdiv class\x3d"gwm-tile"\x3e\x3c/div\x3e');c.append(b.body);c.children(".gwm-widget").addClass("horizontal-child").removeClass("gwm-widget");c.insertBefore("#gwm-TileLoadingIndicator")}},success:function(c,d,h){a("#gwm-TileLoadingIndicator").addClass("aok-hidden");
b("tile-loader-success");g.addCounts()},error:function(c,d,g){a("#gwm-TileLoadingIndicator").addClass("aok-hidden");b("tile-loader-failure")}})}}});e.when("tile-loader","dashboard-data-store").execute("load-tiles",function(a,c){function d(){a(c.cardsData);b.removeEventListener("scroll",d)}var b=document.querySelector(".gwm-dashboard-container");if(b){var g=document.getElementById("gwm-dashboard");3>(g&&g.getElementsByClassName("gwm-tile")||"").length?d():b.addEventListener("scroll",d)}});"use strict";
e.when("jQuery","A","ready").register("primary-scroll-depth",function(a,c){function d(){c.state("gwm-primary-scroll-depth",{depth:h.scrollTop()})}function b(){var b=c.state("gwm-primary-scroll-depth"),d=0;a(".gwm-widget").each(function(g){0===g&&(d=a(this).offset().top);d+=a(this).height()+5;if(b.depth+h.height()<d)return b.maxCardDepth<g+1&&c.state("gwm-primary-scroll-depth",{maxCardDepth:g+1}),!1});d<=b.depth+h.height()&&c.state("gwm-primary-scroll-depth",{maxCardDepth:a(".gwm-widget").length})}
function g(a,d){d.depth&&b();d.maxCardDepth&&f.ue.count("gwmPrimaryCardDepth",c.state("gwm-primary-scroll-depth").maxCardDepth)}var h=a(f);return function(){c.state("gwm-primary-scroll-depth",{});f.ue&&"function"===typeof f.ue.count&&(h.bind("scroll",c.debounce(d,50)),c.state("gwm-primary-scroll-depth",{depth:0,maxCardDepth:0},!0),c.state.bind("gwm-primary-scroll-depth",g))}});"use strict";e.when("A","jQuery","ready").register("loading-indicator-counter",function(a,c){function d(){var b=a.state("gwm-loading-indicator");
if(b.active){var c=h.scrollTop();b.maxDepth<c&&a.state("gwm-loading-indicator",{maxDepth:c,visible:e.getBoundingClientRect().top<k})}}function b(b,c){b.active&&c.visible&&b.visible&&(f.ue&&f.ue.count&&f.ue.count("gwmLoadingIndicatorShown",(f.ue.count("gwmLoadingIndicatorShown")||0)+1),a.state("gwm-loading-indicator",{active:!1},!0))}function g(b,c){c.request&&a.state("gwm-loading-indicator",{active:!!b.request,visible:!!b.request&&e.getBoundingClientRect().top<k})}var h=c(f),k=h.height(),e=document.getElementById("gwm-CardLoadingIndicator");
f.ue&&f.ue.count&&f.ue.count("gwmLoadingIndicatorShown",0);return function(){a.state("gwm-loading-indicator",{});e&&f.ue&&"function"===typeof f.ue.count&&(a.state("gwm-loading-indicator",{active:!1,maxDepth:0,visible:!1}),c(f).bind("scroll",a.throttle(d,300)),a.state.bind("gwm-loading-indicator",b),a.state.bind("gwm-card-loader",g))}});"use strict";e.when("jQuery","A","loading-indicator","csm-widget-builder","get-atf-asins").register("fetch-merch-data-store",function(a,c,d,b,g){function h(b,c,d){try{return a.Deferred().resolve(a.parseJSON(d.responseText)).promise()}catch(g){return a.Deferred().reject(g).promise()}}
function k(a){e.now("merch-data-store").execute(function(b){"undefined"===typeof b&&e.declare("merch-data-store",a)})}function m(b,c){function d(){c().done(g.resolve.bind(g)).fail(function(){b.apply(this,arguments)?d():(g.reject.apply(g,arguments),k({html:"",cardsData:[]}))})}var g=a.Deferred();d();return g.promise()}function r(){var a=0;return function(b,c,d){return 300<=b.status&&600>b.status?!1:2>=++a}}function l(b,c){return function(){return c().pipe(function(){var b=a.Deferred();return b.resolve.apply(b,
arguments)},function(){var c=a.Deferred();q(b,++v);return c.reject.apply(c,arguments)})}}function p(b,c,d){n||(w.cf(),w.ld(),n=!0);return a.Deferred().resolve(b,c,d)}function u(){var b=(c.state("gwm-fetch-merch-data-store")||{}).failCount||0;d.hide();c.state("gwm-fetch-merch-data-store",{failCount:b+1})}var w=b.build("data-store");b=function(){};var q=f.ue&&f.ue.count?f.ue.count.bind(f.ue):b,n,v=0;return function(b){if(""!==b){var c;try{c=g()}catch(e){c=[]}0<c.length&&(b=b.match(/\?/)?b+"\x26":b+
"?",b+="atfAsins\x3d"+c.join());c=a.ajax.bind(a,{url:b,type:"GET",contentType:"application/json",timeout:1E4});c=l("gwmMerchGetDataStoreFailure",c);c=m.bind(null,r(),c);d.show();w.bb();return c().pipe(p).pipe(h).done(k).fail(u)}}});"use strict";e.when("jQuery").register("loading-indicator",function(a){return{hide:function(){a(".gwm-RecommendationsText").hide();return a(".gwm-LoadingIndicator").addClass("aok-hidden")},show:function(){a(".gwm-RecommendationsText").show();return a(".gwm-LoadingIndicator").removeClass("aok-hidden")}}});
"use strict";e.when("A").execute(function(a){var c=a.once(function(){e.when("afterLoad").execute(function(){e.register("gw-start-preload",function(){})})});e.when("merch-data-store").execute(function(d){a.state.bind("gwm-card-loader",function(b,a){a.request&&b.request&&b.request.done(c);a.cards&&0===b.cards.length&&c()})})});"use strict";var n={},y=function(){};e.when("bind").execute(function(a){var c="function"===typeof f.uet?a(f.uet,f):y,d="function"===typeof f.uex?a(f.uex,f):y;e.register("csm-widget-builder",
function(){return{build:function(b){b in n?n[b]++:n[b]=1;var a=b+"-"+n[b];return{bb:function(){c("bb",a,{wb:1})},cf:function(){c("cf",a,{wb:1})},ld:function(){d("ld",a,{wb:1})},scope:function(){return a}}}}})});"use strict";e.when("jQuery","A","atf-asins-marked").register("get-atf-asins",function(a,c){return function(){var c=[],b;a(".gwm-widget-atf").each(function(){this.classList.forEach(function(a){0===a.indexOf("csm-asin-")&&(b=a.replace("csm-asin-","").split("-"),b.forEach(function(b){b&&"X"!==
b&&-1===c.indexOf(b)&&c.push(b)}))})});return c}});"use strict";e.when("A","jQuery","ready").execute(function(a,c){function d(){var b,a,d,k,e,f;c(".gwm-widget").each(function(){a=[];k=[];c(this).find("a").filter(":not(.gwm-Card-secondaryViewLink,[aria-hidden\x3dfalse],[class*\x3dcsm-asin])").each(function(){(b=(f=/\/(?:(?:product|d|dp|udp|reader|detail)|(?:d(?:\/[^\/]+)*))\/([0-9][0-9]{8}[0-9X]|[A-Z][A-Z0-9]{9})/.exec(c(this).attr("href")))&&f[1])&&-1===a.indexOf(b)&&a.push(b);if(e=c(this).parent().attr("data-deal-target"))d=
c.parseJSON(e).dealID,-1===k.indexOf(d)&&(k.push(d),b||a.push("X"))});0<a.length&&c(this).addClass("csm-asin-"+a.join("-"));0<k.length&&c(this).addClass("csm-deal-id-"+k.join("-"))})}d();e.declare("atf-asins-marked",1);e.when("A","jQuery","merch-data-store").execute(d);e.when("run-when-new-cards").execute(function(a){a(d)})});"use strict";e.when("merch-data-store","mark-af").execute(function(a,c){function d(a){try{document.getElementById("gwm-Deck-btf").appendChild(a)}catch(c){f.ueLogError&&f.ueLogError(c,
{logLevel:"Error",attribute:"data-store-af-images",message:"error thrown while executing "+a.innerHTML})}}f.gm.o("af",function(){var b=f.gm.r("af-additional-images")||[];if("afImageUrls"in a&&a.afImageUrls){var b=b.concat(a.afImageUrls),g=document.createElement("script");g.innerHTML="window.gm.s('data-store-af-images', "+JSON.stringify(a.afImageUrls)+");";d(g)}else f.gm.r("data-store-af-images")&&(b=b.concat(f.gm.r("data-store-af-images")));f.gm.wil(b,function(){f.gm.w("cf",function(){c()})})})});
"use strict";e.when("A").register("insertHTMLBefore",function(a){return function(c,d){var b=document.createElement("div"),g,h,k,e;b.innerHTML=c;g=Array.prototype.slice.call(b.getElementsByTagName("img"));c=Array.prototype.slice.call(b.getElementsByTagName("script"));h=Array.prototype.slice.call(b.children);for(b=0;b<h.length;++b)d.parentNode.insertBefore(h[b],d);for(b=0;b<g.length;++b)a.loadDynamicImage(a.$(g[b]));for(b=0;b<c.length;++b){g=c[b];h=document.createElement("script");k=g.attributes;for(d=
0;d<k.length;++d)e=k.item(d),e.specified&&h.setAttribute(e.name,e.value);h.innerHTML=g.innerHTML;try{(document.head||document.getElementsByTagName("head")[0]).appendChild(h).parentNode.removeChild(h)}catch(r){f.ueLogError&&f.ueLogError(r,{logLevel:"ERROR",attribution:"gateway-phone:insert-before:docHead",message:"error thrown while executing "+g.innerHTML})}}}});"use strict";e.when("A").execute(function(a){var c=[];a.state.bind("gwm-card-inserter",function(a,b){if(b.inserted)for(a=0;a<c.length;++a)c[a]()});
e.declare("run-when-new-cards",function(a){c.push(a)})});"use strict";e.declare("increment-counter",function(a){f.ue&&f.ue.count&&f.ue.count(a,1+(f.ue.count(a)||0))});"use strict";e.when("jQuery").register("csm-decoration",function(a){function c(a,c,d){a.attr("cel_widget_id",c+d);a.attr("data-cel-widget",c+d);a.attr("data-csa-c-slot-id",c+d);a.attr("data-csa-c-content-id",a.attr("data-csm-placement-id"));"grid-bottom-1"!==a.attr("id")&&(a.addClass("celwidget"),a.attr("data-csa-c-type","widget"),a.attr("data-csa-c-id")||
csa("Content",{element:a[0]}))}function d(a,c,d){a.attr("data-csa-c-id")||(a.attr("data-csa-c-pos",d),a.attr("data-csa-c-item-id",c),a.attr("data-csa-c-type","item"),csa("Content",{element:a[0]}))}return{addCsmAttributes:c,decorateWidgetSlide:function(b,c,d){var k=1;b.find(".gwm-widget-slide").each(function(){var b=a(this),e=new RegExp(c+d+".*");b.addClass("celwidget");e.exec(b.attr("cel_widget_id"))||b.attr("cel_widget_id",c+d+"-"+("0"+k).slice(-2));e.exec(b.attr("data-csa-c-slot-id"))||b.attr("data-csa-c-slot-id",
c+d+"-"+("0"+k).slice(-2));b.attr("data-csa-c-content-id",b.attr("data-csm-placement-id"));b.attr("data-csa-c-type","widget");k++})},addCsmNoContentId:function(a,c,d){a.attr("data-csa-c-id")||(a.attr("data-csa-c-slot-id",d),a.attr("data-csa-c-type",c),csa("Content",{element:a[0]}))},addCsmItem:d,decorateCarousel:function(b,c){var e=1;b.find(".horizontal-child").each(function(){d(a(this),c+"-"+("0"+e).slice(-2),e);e++})},decorateNonPageLeavingClicks:function(b){b.find("[href\x3d'#'], [href\x3d'javascript:void(0);']").each(function(){var b=
a(this);b.attr("data-csa-c-id")||(b.attr("data-csa-c-type","action"),b.attr("data-csa-c-action","nonPageLeavingClick"),csa("Content",{element:this}))})},decorateDashboard:function(){var b=1;a("#gwm-dashboard-container .horizontal-child").each(function(){var d=a(this);c(d,"card-md-",("0"+b).slice(-2));b++})},decorateHorizontalScroll:function(b,c){var d=1;b.find(".horizontal-child").each(function(){a(this);d++})}}});"use strict";e.when("A","jQuery","csm-decoration","ready").register("widget-counter",
function(a,c,d){var b,e;return{addCounts:function(){1===c("#gwm-dashboard-container").length&&d.decorateDashboard();b=1;c(".gwm-widget").each(function(){var a=("0"+b).slice(-2),e=c(this);d.addCsmAttributes(e,"card-",a);d.decorateWidgetSlide(e,"card-",a);d.decorateHorizontalScroll(e,"card-"+a);b++});e&&"function"===typeof e&&e()},setCallback:function(a){e=a}}});e.when("widget-counter","run-when-new-cards").execute(function(a,c){a.addCounts();c(a.addCounts)});"use strict";e.declare("mark-af",function(){f.gm.mpe("af",
{ld:1});f.gm.mpe("fn")});"use strict";e.when("jQuery","increment-counter").execute(function(a,c){e.declare("recordClick",function(d,b,e){a.ajax(d,{complete:b,timeout:e||5E3}).error(function(){c("recordClickFailure")})})});"use strict";"use strict";e.when("jQuery","increment-counter","pageType","ready").execute(function(a,c,d){function b(){d.match(/gateway-phone-apps/)?c("gwmGatewayPhoneAppClicksCount"):d.match(/gateway-phone-web/)&&c("gwmGatewayPhoneWebClicksCount")}(a=document.getElementById("gwm-Deck"))&&
a.addEventListener&&a.addEventListener("click",b)});"use strict";e.when("jQuery","A","ready").execute("grid-bottom-1",function(a,c){var d=c.once(function(){var b=a(".gwm-grid-bottom-1");b.removeClass("aok-hidden");b.addClass("celwidget");b.attr("data-csa-c-type","widget");csa("Content",{element:b[0]});if(0<b.length)for(var b=b[0].getElementsByClassName("a-dynamic-image"),d=0;d<b.length;d++)c.loadDynamicImage(b[d])});c.state.bind("gwm-card-loader",function(a){!a.request&&a.cards&&0===a.cards.length&&
d()})});"use strict";e.when("A","jQuery","increment-counter","ready").register("auto-crop-image-finder",function(a,c,d){var b,e,h=0,k=/card-(\d+)/,f=/(images-((na)|(eu)|(fe)|(cn)).ssl-images-amazon.com|m.media-amazon.com)\/images\/I\/.*.jpg/;return{findImage:function(){c(".gwm-widget").each(function(){var a=c(this);b=a.attr("data-csm-widget-type");e=!1;if(a.attr("data-csa-c-slot-id")!==v&&null!==k.exec(a.attr("data-csa-c-slot-id"))){var l=parseInt(k.exec(a.attr("data-csa-c-slot-id"))[1],10);l>h&&
(h=l,a.find("img").each(function(){if(!0!==e){var a=c(this).attr("src");f.exec(a)&&-1===a.indexOf("_AC_")&&(d("GWM:Diagnostics:MissingImageACTag:"+b),e=!0)}}))}})}}});e.when("auto-crop-image-finder","run-when-new-cards").execute(function(a,c){a.findImage();c(a.findImage)});"use strict";e.when("link-decorator-util").execute("link-decorator",function(a){function c(a){a=a||f.event;var b=a.type,c=a.which||a.keyCode;if("keydown"!=a.type||13===c)for(a=a.target||a.srcElement;a&&a.parentNode;){c=a.tagName&&
a.tagName.toLowerCase();if("a"==c||"area"==c){d(a,b);break}a=a.parentNode}}function d(c,d){if(c.href&&!c.href.startsWith("tel:")){var m=c.href;if(m&&m!==c.baseURI&&m.substring(0,c.baseURI.length+1)!==c.baseURI+"#"){var r=a.findCsmElement(c);r&&0<=r.className.indexOf("sv-content")?("click"===d?f.ue&&f.ue.count("gwm:ah-sv:clickToDestination",1):f.ue&&f.ue.count("gwm:ah-sv:interaction",1),d=r.getAttribute("data-"+e)):d=f.ue&&f.ue.rid;if(!(m.startsWith("javascript:")||!d||0<=m.indexOf(e+"\x3d"+d))){var m=
a.getUrlMap(m),l=m.queryParams,p=m.anchorTag;l[e]?d&&d!==l[e]&&(l[e]=d):(d&&(l[e]=d),r&&a.forEach(b,function(a){var b=r.getAttribute("data-"+a);b&&(l[a]=b)}));c.href=m.urlPath+"?"+a.queryParamsToString(l)+p}}}}var b=a.constants.CEL_ATTRIBUTES,e=a.constants.RID_KEY;(function(a){var b=document.getElementById("gwm-Deck");a&&a.split(" ").forEach(function(a){b&&b.addEventListener?b.addEventListener(a,c):b&&b.attachEvent&&b.attachEvent("on"+a,c)})})("mousedown touchstart keydown click")});e.register("link-decorator-util",
function(){function a(a){for(;a&&a.parentNode;){if(a.className&&a.hasAttribute("data-csa-c-slot-id")&&a.hasAttribute("data-csa-c-content-id"))return a;a=a.parentNode}}function c(a){var c=a.indexOf("?"),d=-1===a.lastIndexOf("#")?a.length:a.lastIndexOf("#"),e=a.substring(d);if(0>c)return{urlPath:a,queryParams:{},anchorTag:e};var f={},d=a.substring(c+1,d).split("\x26");b(d,function(a){a=a.split("\x3d",2);2==a.length&&!f[a[0]]&&(f[a[0]]=a[1])});return{urlPath:a.substring(0,c),queryParams:f,anchorTag:e}}
function d(a){var b=[],c;for(c in a)b.push(c+"\x3d"+a[c]);return b.join("\x26")}function b(a,b){for(var c=0;c<a.length;c++)b(a[c])}var e=["pf_rd_p","pd_rd_r","pd_rd_w","pd_rd_wg"],h=["ref_"];return{findCsmElement:a,getUrlMap:c,queryParamsToString:d,forEach:b,getDecoratedUrl:function(k,m,n){var l=c(m).queryParams,p=a(n);l.pf_rd_r=f.ue&&f.ue.rid;p&&b(e,function(a){var b=p.getAttribute("data-"+a);b&&(l[a]=b)});p&&b(h,function(a){var b=p.getAttribute("data-"+a);b&&!l[a]&&(l[a]=b)});return k+"?"+d(l)},
constants:{CEL_ATTRIBUTES:e,RID_KEY:"pf_rd_r"}}});"use strict";e.when("A","jQuery","af","ready").execute("manual-image-loader",function(a,c){a.loadImageManually(c(".a-manually-loaded"))});e.when("A","run-when-new-cards","a-events").execute("update-page",function(a,c,d){c(function(){d.trigger("a:pageUpdate")})})});
/* ******** */
(function(e){var k=window.AmazonUIPageJS||window.P,l=k._namespace||k.attributeErrors,f=l?l("AmazonHomepageCardAssets",""):k;f.guardFatal?f.guardFatal(e)(f,window):f.execute(function(){e(f,window)})})(function(e,k,l){e.register("gw-video-orchestrator",function(){function f(a,b,g){return 0<a?Math.min(g-a,b-a):0<b?Math.min(b,g):0}function n(a){var b=k.innerHeight||document.documentElement.clientHeight,g=k.innerWidth||document.documentElement.clientWidth;a=a.getBoundingClientRect();var b=f(a.top,a.bottom,
b),g=f(a.left,a.right,g),c=0;if(0<b||0<g)c=b*g;return Math.min(1,Math.max(0,c/((a.bottom-a.top)*(a.right-a.left))))}function p(a,b){return a&&1===a.nodeType&&(a.offsetWidth||a.offsetHeight||a.getClientRects().length)?n(a)<b?!1:!0:!1}function m(a){a=q(a);a!==c&&(c&&c.callback(!1),(c=a)&&"hidden"!==document.visibilityState&&c.callback(!0))}function q(a){if(a)for(var b=d.length;b--;)if(d[b].element===a)return d[b]}function r(a,b){return b.priority-a.priority||n(b.element)-n(a.element)||(a.element.compareDocumentPosition(b.element)&
Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}function t(){if("hidden"in document)return"visibilitychange";for(var a=["webkit","moz","ms"],b=0;b<a.length;b++)if(a[b]+"Hidden"in document)return a[b]+"visibilitychange"}function u(){document.addEventListener(t(),function(){c&&("hidden"===document.visibilityState?c.callback(!1):c.callback(!0))})}var d=[],c,h=function(){c||d.length&&90<=d[0].priority&&m(d[0].element)};e.when("A","ready").execute(function(a){var b=a.capabilities.isAmazonApp;h=function(){if(d.length&&
(!c||!p(c.element,c.minVisiblePercentForLeader||(b?.95:.5))||"visible"!==getComputedStyle(c.element).visibility)){var a=d.filter(function(a){return p(a.element,a.minVisiblePercentForLeader||(b?.95:.5))&&"visible"===getComputedStyle(a.element).visibility});m(0<a.length?a[0].element:l)}};a.on("scroll resize orientationChange",h);a.on("gw:mobile:registerHorizontalScrolling",function(a){a.addEventListener("scroll",h)});e.when("gw-desktop-herotator").execute(function(a){a.addObserver("animation_complete",
h)});u();h()});return{subscribe:function(a,b,c){if(!a||!b)throw Error("Subscribe required a valid element and callback function");c=c||{};b={element:a,callback:e.guardCurrent(b),minVisiblePercentForLeader:c.minVisiblePercentForLeader,priority:c.priority||50};if(q(a))throw Error("element is already subscribed");d.push(b);d.sort(r);h()},unsubscribe:function(a){if(!a)throw Error("unsubscribe requires a valid element");c&&c.element===a&&m();for(var b=d.length;b--;)d[b].element===a&&(d.splice(b,1),h())},
elect:m,subscribeToHorizontal:function(a){e.when("A","ready").execute(function(b){b.trigger("gw:mobile:registerHorizontalScrolling",a)})}}})});
/* ******** */
(function(d){var c=window.AmazonUIPageJS||window.P,h=c._namespace||c.attributeErrors,a=h?h("GWMWebAssets",""):c;a.guardFatal?a.guardFatal(d)(a,window):a.execute(function(){d(a,window)})})(function(d,c,h){d.when("jQuery","A","gwm-nav","ready").execute("basic-footer",function(a,c,e){function d(a){!a.request&&a.cards&&0===a.cards.length&&f.removeClass("aok-hidden")}var f=e.getFooterEl();c.state.bind("gwm-card-loader",d);d(c.state("gwm-card-loader")||{})});"use strict";d.when("jQuery","bind").register("gwm-nav",
function(a,n){function e(){return a("#navbar")}function k(){return"nav-search-keywords"}function f(){return e().find("#nav-search-form")}function g(){return e().outerHeight()}var l=a(c),b={hide:a.noop,show:a.noop,hideGlass:a.noop,showGlass:a.noop},m={getNavEl:e,getFooterEl:function(){return a("#gwm-Nav-footer")},getSearchInputID:k,getSearchInput:function(){return e().find("#"+k())},getSearchForm:f,height:g,heightWithoutSearch:function(){return g()-f().outerHeight()},scrollNavToTop:function(){var a=
e()[0].object.getBoundingClientRect();0<a.top&&l.scrollTop(l.scrollTop()+a.top)},hideSearch:function(){b.hide()},showSearch:function(){b.show()},hideGlass:function(){b.hideGlass()},showGlass:function(){b.showGlass()}};d.when("nav.searchbar").execute(function(a){b=a;b.maintainHeightWhenClosed(!0);m.hideSearch=n(b.hide,b);m.showSearch=n(b.show,b)});return m});"use strict";c.history&&history.state&&"function"===typeof history.replaceState&&history.state.cards&&history.state.deck&&history.state.deck.btf&&
"scrollTop"in history.state?c.ue&&c.ue.tag&&c.ue.tag("gwmCardHistory"):c.ue&&c.ue.tag&&c.ue.tag("gwmNoCardHistory");d.when("A","cfImages","isRecognized","isPercolate","store-card-history","renderingStack").execute(function(a,d,e,k,f,g){function l(a){return(a=document.getElementById(a))&&a.innerHTML||""}function b(b){if((b=a.state("gwm-clear-card-history"))&&b.value)f({});else{b=a.state("gwm-card-loader");var h;h=history.state&&"number"===typeof history.state.time?history.state.time:c.performance&&
c.performance.timing&&c.performance.timing.domComplete||Date.now();a.$("#gwm-Deck img").each(function(){if(this.complete&&this.naturalHeight&&a.$(this).is(":visible")){var b=parseInt(a.$(this).css("padding-left"),10),c=parseInt(a.$(this).css("padding-right"),10),e=parseInt(a.$(this).css("padding-top"),10),f=parseInt(a.$(this).css("padding-bottom"),10);this.setAttribute("width",this.width+b+c);this.setAttribute("height",this.height+e+f)}});b={deck:{btf:l("gwm-Deck-btf")},cards:b&&b.cards||[],time:h,
scrollTop:c.scrollY,cfImages:d,wasRec:e,wasPercolate:k,lastStack:g};f(b)}}c.navigator.userAgent.match(/Android 4\.1/)||c.addEventListener("beforeunload",b)});"use strict";d.when("A","isJava").register("store-card-history",function(a,d){return function(e){var k=c.ueLogError||a.$.noop;if(e&&e.deck)try{if(d){var f=location.href,g={wasRec:e.wasRec,wasPercolate:e.wasPercolate,time:e.time},g=btoa(JSON.stringify(g)),g="gwHistory\x3d"+g;if(/gwHistory=[^&#]*/.test(f))f.replace(/gwHistory=[^&#]*/,g);else if("?"===
f.slice(-1)||"\x26"===f.slice(-1))f+=g;else var h=/\?/.test(f)?"\x26":"?",f=f+(h+g);history.replaceState(e,null,f)}else history.replaceState(e,null)}catch(b){history.replaceState({},null),k(b,{logLevel:"WARN",attribution:"GWM:CardHistory",message:"stateObjectHasDeck"})}else try{history.replaceState({},null)}catch(b){k(b,{logLevel:"WARN",attribution:"GWM:CardHistory",message:"stateObjectNoDeck"})}}});"use strict";d.when("A","ready").register("clear-card-history",function(a){a.state("gwm-clear-card-history",
{value:!1});return function(){a.state("gwm-clear-card-history",{value:!0})}});d.when("clear-card-history","A","ready").execute(function(a,d){d.on("packard:glow:destinationChangeAll",function(){a();c.location.reload()})});d.declare("gwm-web-asset-loaded",{})});
/* ******** */
