'use strict';mix_d("DealsDiscoverySolitaireCards__thumbnail-deals:thumbnail-deals__arM1xOqc","exports tslib @c/dom @c/metrics @p/A @p/jQuery @c/aui-utils @p/a-truncate".split(" "),function(x,r,y,v,F,G,H,I){function t(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}var u=t(y),h=t(F),z=t(G),J=t(I),K=function(a){return 9<a?String(a):"0"+a},A=function(a){if(0>=a)return"00:00";var b=Math.floor(a/36E5);a=[Math.floor(a/6E4%60),Math.floor(a/1E3%60)];0<b&&a.unshift(b);return a.map(K).join(":")},
M=function(a){Array.prototype.slice.call(a.getElementsByClassName("badge-countdown-timer")).forEach(function(b){(new L(b)).start()})},L=function(){function a(b){this.timerElement=b;this.msToEvent=parseInt(b.dataset.targetTime,10);this.timerElement.innerText=A(this.msToEvent)}a.prototype.start=function(){var b=this;isNaN(this.msToEvent)||(this.counterStartTime=Date.now(),this.counterInterval=H.interval(function(){return b.updateTime()},500))};a.prototype.updateTime=function(){var b=Date.now()-this.counterStartTime;
0>=this.msToEvent-b&&clearInterval(this.counterInterval);this.timerElement.innerText=A(this.msToEvent-b)};return a}(),N=function(a){Array.prototype.slice.call(a.getElementsByClassName("_thumbnail-deals_style_badgeContainer__2V4ps")).forEach(function(b){var f,d,c,e,g=32<(null!==(d=null===(f=null===b||void 0===b?void 0:b.getBoundingClientRect())||void 0===f?void 0:f.height)&&void 0!==d?d:0)?"_thumbnail-deals_style_badgeTwoLineContainer__238Xf":"_thumbnail-deals_style_badgeOneLineContainer__SDZkK";null===
(c=null===b||void 0===b?void 0:b.classList)||void 0===c?void 0:c.remove("_thumbnail-deals_style_badgeLayoutCheck__DLY5W");null===(e=null===b||void 0===b?void 0:b.classList)||void 0===e?void 0:e.add(g)})},B=function(a){Array.prototype.slice.call(a.getElementsByClassName("a-truncate")).forEach(function(b){return J["default"].get(y.unscope(b)).update()})},C={},w=function(a,b,f){void 0===b&&(b="");void 0===f&&(f=1);b=a+b;C.hasOwnProperty(b)||(C[b]=!0,v.count(a,(v.count(a)||0)+f))},O=function(a){w(h["default"].capabilities.mobile?
"Card:EERU:SharedLib:mobile:render":"Card:EERU:SharedLib:desktop:render");var b=function(d,c){d={$event:{preventDefault:h["default"].$.noop,stopPropagation:h["default"].$.noop},$target:d.getContent().find('[data-a-tab-name="'+c+'"]'),data:{name:"energyEfficiencyTabSet"}};h["default"].trigger("a:declarative:a-tabs:click",d)},f=function(d,c){var e=d&&d.$event,g=d&&d.data||{},k=g.activeTabName,n=g.modalHeight,p=g.name;e&&e.preventDefault&&e.preventDefault();e&&e.stopPropagation&&e.stopPropagation();
e=c.get(p);e||(h["default"].on("a:popover:beforeShow:"+p,function(m){m.popover&&m.popover.getContent&&(m=m.popover.getContent(),m.find(".a-manually-loaded").parent().css("min-height",n),h["default"].loadDescendantImagesManually(m))}),e=c.create(d.$target,g));e.show();b(e,k)};a.when("a-secondary-view").execute("RegisterEnergyEfficiencyEventMobile",function(d){h["default"].declarative("card-energy-efficiency-secondary-view","click",function(c){w("Card:EERU:SharedLib:mobile:click",c&&c.data&&c.data.name||
"");f(c,d)})});a.when("a-modal").execute("RegisterEnergyEfficiencyEventDesktop",function(d){h["default"].declarative("card-energy-efficiency-modal","click",function(c){w("Card:EERU:SharedLib:desktop:click",c&&c.data&&c.data.name||"");f(c,d)})})},P=function(a){a.when("ready").execute("EEBadgeProductFicheResize",function(b){var f=h["default"].$;f(".energyEfficiencyContainer").each(function(d,c){d=f(c).find(".energyEfficiencyProductFicheLabel").first();c=f(c).find("svg").first();d.parent().outerHeight()>
c.outerHeight()&&(d.removeClass("a-size-small"),d.css("font-size","10px"),d.parent().outerHeight()>c.outerHeight()&&d.parent().css("line-height","10px"))})})},Q=function(){var a=window.P;O(a);P(a)},D=function(a){var b;R(a);var f=l("_thumbnail-deals_style_dealHeroBlock__2LH20"),d=function(k){k.classList.contains("_thumbnail-deals_style_activeHero__1KTZ7")&&h["default"].animate(z["default"](k),{opacity:0},200,"ease-out",function(){k.classList.remove("_thumbnail-deals_style_activeHero__1KTZ7");f[a].classList.add("_thumbnail-deals_style_activeHero__1KTZ7");
h["default"].animate(z["default"](f[a]),{opacity:1},200,"ease-out",function(){})})};try{for(var c=r.__values(f),e=c.next();!e.done;e=c.next())d(e.value)}catch(k){var g={error:k}}finally{try{e&&!e.done&&(b=c.return)&&b.call(c)}finally{if(g)throw g.error;}}B(f[a])},R=function(a){0!==l("imageLoadingSpinner"+a).length&&(h["default"].loadImageManually(l("manualLoadAsinHeroImage"+a)),l("manualLoadAsinHeroImage"+a)[0].complete?E(a):l("manualLoadAsinHeroImage"+a)[0].addEventListener("load",function(){E(a)}))},
E=function(a){var b=l("imageLoadingSpinner"+a)[0];a=l("manualLoadAsinHeroImage"+a)[0];b&&b.remove();a.classList.remove("_thumbnail-deals_style_loadingHeroImage__2MA_u")},l=function(a){return Array.prototype.slice.call(u["default"].cardRoot.getElementsByClassName(a))};x._operationNames=[];x.card=function(){return r.__awaiter(void 0,void 0,void 0,function(){var a,b,f,d,c,e,g,k,n,p;return r.__generator(this,function(m){Q();B(u["default"].cardRoot);N(u["default"].cardRoot);M(u["default"].cardRoot);a=
1;b=setInterval(function(){4<=a&&(a=0);D(a);a++},4E3);f=function(q){l("thumbnail"+q)[0].addEventListener("click",function(S){v.count("thumbnailClick",1);S.preventDefault();l("_thumbnail-deals_style_dealHeroBlock__2LH20")[q].classList.contains("_thumbnail-deals_style_activeHero__1KTZ7")||D(q);b&&clearInterval(b)})};for(d=0;4>d;d++)f(d);c=l("_thumbnail-deals_style_dealHeroBlock__2LH20");try{for(e=r.__values(c),g=e.next();!g.done;g=e.next())k=g.value,k.addEventListener("focusin",function(){b&&clearInterval(b)})}catch(q){n=
{error:q}}finally{try{g&&!g.done&&(p=e.return)&&p.call(e)}finally{if(n)throw n.error;}}return[2]})})}});
